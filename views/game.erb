<h1 class="welcome"> Tic Tac Toe </h1>

<% unless @game.is_over? %>
  <h2 class="play-info"> Currently <%= @current_player.mark %>'s turn </h1>
<% end %>

<% if @game.is_stalemate? %>
  <p class="play-info winner-message"> The Game ended in a stalemate. </p>
  <p> <a href='/play_again'> Play Again? </a> or <a href='/reset_session'> Choose new players</a> </p>

<% elsif @game.is_over? %>
  <p class="play-info winner-message"> The Game is over. </p>
  <h3 class="play-info winner-message"> <%= session[:winner].mark %> won the game. </h3>
  <p class="play-info"> 
    <a href='/play_again'> Play Again? </a> 
    or 
    <a href='/reset_session'> Choose new players</a>
  </p>

<% else %>
  <p class="play-info choose-spot"> <%= @current_player.mark %>, choose a spot: </p>
<% end %>

<div class="game-board">
<table border="1">
  <tr>
    <% @spots[0].each_with_index do |spot, index| %>
      <% if spot.class == Fixnum %> 
        <% if index == 1 %>
          <td height="100" width="100" align="center" class="td-top center">
          <a href='/make_move/<%= spot.to_i%>'>
        <% else %>
          <td height="100" width="100" align="center" class="td-top">
          <a href='/make_move/<%= spot.to_i%>'> 
        <% end %> 

      <% else %>

        <% if index == 1 %>
          <td height="100" width="100" align="center" class="td-top center">
          <%= spot %>
        <% else %>
          <td height="100" width="100" align="center" class="td-top activated">
          <%= spot %> 
        <% end %>
          </a>
        </td>
      <% end %>
  <% end %>
  </tr>
  <tr>
    <% @spots[1].each_with_index do |spot, index| %>
      <% if spot.class == Fixnum %> 
        <% if index == 1 %>
          <td height="100" width="100" align="center" class="td-mid center mid-row">
          <a href='/make_move/<%= spot.to_i%>'>
        <% else %>
          <td height="100" width="100" align="center" class="td-mid mid-row">
          <a href='/make_move/<%= spot.to_i%>'> 
        <% end %>

      <% else %>

        <% if index == 1 %>
          <td height="100" width="100" align="center" class="td-mid center mid-row">
          <%= spot %>
        <% else %>
          <td height="100" width="100" align="center" class="td-mid mid-row">
          <%= spot %> 
        <% end %>
          </a>
        </td>
      <% end %>
  <% end %>
  </tr>
  <tr>
    <% @spots[2].each_with_index do |spot, index| %>
      <% if spot.class == Fixnum %> 
        <% if index == 1 %>
          <td height="100" width="100" align="center" class="td-bot center bot-row">
          <a href='/make_move/<%= spot.to_i%>'>
        <% else %>
          <td height="100" width="100" align="center" class="td-bot bot-row">
          <a href='/make_move/<%= spot.to_i%>'> 
        <% end %>

      <% else %>

        <% if index == 1 %>
          <td height="100" width="100" align="center" class="td-bot center bot-row">
          <%= spot %>
        <% else %>
          <td height="100" width="100" align="center" class="td-bot bot-row">
          <%= spot %> 
        <% end %>
          </a>
        </td>
      <% end %>
  <% end %>
  </tr>
</table>
</div>

